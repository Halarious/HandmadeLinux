#!/bin/bash

CommonCompilerFlags="-g -O0 -Wall -Wno-unused-function -Wno-unused-variable -std=gnu99 -arch i386 -DHANDMADE_INTERNAL=1" 
CommonLinkerFlags="-ldl -lX11 -lXrandr -lm" 

mkdir ../build -p > /dev/null
pushd ../build    > /dev/null

clang $CommonCompilerFlags -shared -o handmade.so -fPIC ../code/IMGUI.c -Wl,-Map,output.map,--gc-sections
clang $CommonCompilerFlags ../code/linux32_IMGUI.c $CommonLinkerFlags -Wl,-Map,linux32_output.map,--gc-sections -o testBuild

popd > /dev/null
